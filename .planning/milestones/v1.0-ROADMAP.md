# Milestone v1.0: Measurement Live Data Popup

**Status:** ✅ SHIPPED 2026-01-27
**Phases:** 1-5
**Total Plans:** 5

## Overview

Live-Daten-Popup für das ECO Smart Diagnostics Measurements Dashboard. Zeigt Echtzeit-Telemetrie von Messungen und zugehörigen Geräten an. Ermöglicht schnellen Überblick über Messwerte ohne das Dashboard verlassen zu müssen.

**Core Value:** Benutzer können auf einen Blick den aktuellen Status einer Messung sehen — Live-Werte, Gerätestatus, und Verbindungszustand — direkt aus der Measurement-Übersicht.

## Phases

### Phase 1: Dialog Foundation

**Goal:** Funktionierender Dialog mit Measurement-Basisinfo und ECO-Styling
**Depends on:** None
**Plans:** 1 plan

Plans:
- [x] 01-01-PLAN.md — Create dialog function and add to dashboard ✓

**Requirements:**
- INFO-01: entityLabel anzeigen
- INFO-02: entityName anzeigen
- INFO-03: installationType Badge
- STYLE-01: ECO Project Wizard Styling
- STYLE-02: Responsive Layout

---

### Phase 2: Device Display

**Goal:** Alle zugehörigen Geräte laden und mit Status anzeigen
**Depends on:** Phase 1
**Plans:** 1 plan

Plans:
- [x] 02-01-PLAN.md — Add device loading and display to info dialog ✓

**Requirements:**
- DEV-01: Geräte mit Measurement-Relation laden
- DEV-02: Gerätename anzeigen
- DEV-03: lastActivityTime formatiert anzeigen
- DEV-04: active Status visualisieren
- DEV-05: Diagnostic Kit hervorheben

---

### Phase 3: Timeseries & Live Updates

**Goal:** Live-Telemetriedaten mit automatischem Refresh
**Depends on:** Phase 2
**Plans:** 1 plan

Plans:
- [x] 03-01-PLAN.md — Add timeseries fetching and auto-refresh ✓

**Requirements:**
- TS-01: P-Flow Heating Timeseries
- TS-02: P-Flow Cooling Timeseries
- TS-03: P-Flow Common Timeseries
- TS-04: Temperature Sensor Timeseries
- LIVE-01: Auto-Refresh 5s
- LIVE-02: Refresh Button
- LIVE-03: Loading Indicator

---

### Phase 4: Actions

**Goal:** Navigation und Parameter-Zugriff aus dem Dialog
**Depends on:** Phase 3
**Plans:** 1 plan

Plans:
- [x] 04-01-PLAN.md — Add navigation buttons and actions to dialog ✓

**Requirements:**
- ACT-01: Device Details Navigation
- ACT-02: Measurement Dashboard Navigation
- ACT-03: Parameters Dialog öffnen

---

### Phase 5: Diagnostic Roomkit (LoRaWAN)

**Goal:** Add Room Sensor CO2 (LoRaWAN) telemetry display to Measurement Info dialog
**Depends on:** Phase 4
**Plans:** 1 plan

Plans:
- [x] 05-01-PLAN.md — Add Room Sensor CO2 telemetry constants and device type handling ✓

**Requirements:**
- LORA-01: Add Room Sensor CO2 telemetry support (co2, temperature, humidity, battery)
- LORA-02: Integrate with existing timeseries fetching pattern
- LORA-03: Display values with correct units and labels

---

## Milestone Summary

**Key Decisions:**

| Decision | Rationale | Outcome |
|----------|-----------|---------|
| ECO Project Wizard styling | Consistency with existing dialogs | ✓ Good - blue header, gradient card |
| 450px -> 500px dialog width | Device list needs more space | ✓ Good - expanded for device display |
| 5s auto-refresh interval | Balance aktualitat vs performance | ✓ Good - dynamic adjustment |
| All devices with Measurement relation | Flexible for future device types | ✓ Good - P-Flow, Room Sensor, Temp Sensor, RESI |
| findByTo for kit relations | Kit -> Device direction | ✓ Good - fixed initial bug |
| cleanupAndNavigate pattern | Prevent orphaned timers | ✓ Good - clear interval before navigate |
| Reuse temperature key | Room Sensor CO2 shares key with Temperature Sensor | ✓ Good - simpler constants |

**Issues Resolved:**
- Fixed relation direction bug (findByFrom -> findByTo)
- Added backwards compatibility for loraWan/lorawan measurementType
- Implemented proper interval cleanup on all exit paths

**Technical Debt:**
- ACT-02 button labeled "Dashboard" navigates to details state (no separate dashboard state exists) - minor label mismatch

---

*For current project status, see .planning/ROADMAP.md*
*Archived: 2026-01-27*
